import React from "react";
import { useNavigate } from "react-router-dom";
import "./verify-button.css";

/**
 * A button component that redirects clients to the verification page
 * This button is shown only if the client is not yet verified
 */
const VerifyButton = ({ verificationStatus }) => {
  const navigate = useNavigate();

  // Redirect to verification page when clicked
  const handleVerifyClick = () => navigate("/app/client/verifications");

  // Do not show the button if the client is already verified or in progress
  if (verificationStatus === "verified" || verificationStatus === "in_progress") return null;

  // Determine button content based on verification status
  const buttonContent = {
    text: "Verify Your Account",
    className: "verify-button",
    disabled: false,
  };

  if (verificationStatus === "failed") {
    buttonContent.text = "Retry Verification";
    buttonContent.className = "verify-button verify-button-retry";
  } else if (verificationStatus === "pending") {
    buttonContent.text = "Verification Pending";
    buttonContent.className = "verify-button verify-button-pending";
    buttonContent.disabled = true;
  }

  return (
    <button
      className={buttonContent.className}
      onClick={handleVerifyClick}
      disabled={buttonContent.disabled}
    >
      {buttonContent.text}
    </button>
  );
};

export default VerifyButton;
